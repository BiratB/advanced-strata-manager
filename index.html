<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Strata Manager Frontend</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 30px;
        background-color: #f8f9fa;
      }
      .container {
        max-width: 800px;
        margin: auto;
      }
      h1,
      h2 {
        color: #1d3557;
      }
      .list-group-item a {
        text-decoration: none;
        color: #0d6efd;
      }
      .list-group-item:hover {
        background-color: #f1f1f1;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1 class="mb-3">Welcome to Strata Manager</h1>
      <p>
        Welcome to the Strata Management Portal. Here you can log in to manage
        building activities, submit maintenance requests, view apartment
        ownership records, generate levy notices, and receive important updates.
        Whether you're an admin or a resident, this system helps streamline
        strata operations and communication.
      </p>

      <div class="my-4 p-3 border rounded bg-light">
        <h5>ğŸª Choose your role to continue:</h5>
        <button class="btn btn-primary me-2" onclick="setRole('admin')">
          Admin
        </button>
        <button class="btn btn-success" onclick="setRole('resident')">
          Resident
        </button>
      </div>

      <h5>ğŸ”— Pages and Features</h5>
      <ul class="list-group">
        <li class="list-group-item">
          <a href="login.html">ğŸ” Login (Set role cookie)</a>
        </li>
        <li class="list-group-item">
          <a href="submit.html">ğŸ› ï¸ Submit Maintenance Request</a>
        </li>
        <li class="list-group-item">
          <a href="roll.html">ğŸ“‹ View Strata Roll</a>
        </li>
        <li class="list-group-item">
          <a href="dashboard.html">ğŸ“Š Dashboard (Role-based access)</a>
        </li>
        <li class="list-group-item">
          <a href="generate.html">ğŸ§¾ Generate Levy Notice (PDF)</a>
        </li>
        <li class="list-group-item">
          <a href="send-email.html">ğŸ“§ Send Email Confirmation</a>
        </li>
      </ul>
    </div>

    <script>
      function setRole(role) {
        fetch("https://strata-backend.onrender.com/api/login.php", {
          method: "POST",
          credentials: "include",
          headers: { "Content-Type": "application/x-www-form-urlencoded" },
          body: new URLSearchParams({
            email:
              role === "admin" ? "admin@example.com" : "resident@example.com",
          }),
        })
          .then((res) => res.json())
          .then((data) => alert("âœ… Role set to: " + data.role))
          .catch(() => alert("âŒ Failed to set role."));
      }
    </script>
  </body>
</html>
